```mermaid
classDiagram
    %% ============================================
    %% PRESENTATION LAYER (Services/API)
    %% ============================================
    namespace PresentationLayer {
        class API {
            <<Interface>>
            +UserEndpoints
            +PlaceEndpoints
            +ReviewEndpoints
            +AmenityEndpoints
        }
        
        class Services {
            +handleRequest()
            +validateInput()
            +formatResponse()
            +handleAuthentication()
        }
    }

    %% ============================================
    %% FACADE PATTERN (Communication Interface)
    %% ============================================
    class HBnBFacade {
        <<Facade>>
        +createUser(userData)
        +getUser(userId)
        +updateUser(userId, userData)
        +deleteUser(userId)
        +createPlace(placeData)
        +getPlace(placeId)
        +updatePlace(placeId, placeData)
        +deletePlace(placeId)
        +createReview(reviewData)
        +getReview(reviewId)
        +createAmenity(amenityData)
        +getAmenity(amenityId)
        +listPlacesByUser(userId)
        +listReviewsByPlace(placeId)
    }

    %% ============================================
    %% BUSINESS LOGIC LAYER (Models)
    %% ============================================
    namespace BusinessLogicLayer {
        class User {
            -id: UUID
            -email: String
            -password: String
            -firstName: String
            -lastName: String
            -createdAt: DateTime
            -updatedAt: DateTime
            +validateEmail()
            +hashPassword()
            +toDict()
        }
        
        class Place {
            -id: UUID
            -title: String
            -description: String
            -price: Float
            -latitude: Float
            -longitude: Float
            -ownerId: UUID
            -createdAt: DateTime
            -updatedAt: DateTime
            +validatePrice()
            +validateCoordinates()
            +calculateAverageRating()
            +toDict()
        }
        
        class Review {
            -id: UUID
            -rating: Integer
            -comment: String
            -userId: UUID
            -placeId: UUID
            -createdAt: DateTime
            +validateRating()
            +checkDuplicateReview()
            +toDict()
        }
        
        class Amenity {
            -id: UUID
            -name: String
            -description: String
            -createdAt: DateTime
            +validateName()
            +toDict()
        }
        
        class BusinessRules {
            <<Service>>
            +validateUserOwnership()
            +checkReviewEligibility()
            +enforceUniqueEmail()
            +validatePlaceData()
        }
    }

    %% ============================================
    %% PERSISTENCE LAYER (Database Access)
    %% ============================================
    namespace PersistenceLayer {
        class UserRepository {
            <<Repository>>
            +save(user)
            +findById(userId)
            +findByEmail(email)
            +update(userId, data)
            +delete(userId)
            +findAll()
        }
        
        class PlaceRepository {
            <<Repository>>
            +save(place)
            +findById(placeId)
            +findByOwner(ownerId)
            +update(placeId, data)
            +delete(placeId)
            +findAll()
            +search(criteria)
        }
        
        class ReviewRepository {
            <<Repository>>
            +save(review)
            +findById(reviewId)
            +findByPlace(placeId)
            +findByUser(userId)
            +update(reviewId, data)
            +delete(reviewId)
        }
        
        class AmenityRepository {
            <<Repository>>
            +save(amenity)
            +findById(amenityId)
            +findAll()
            +update(amenityId, data)
            +delete(amenityId)
        }
        
        class DatabaseManager {
            <<Singleton>>
            +getConnection()
            +executeQuery()
            +beginTransaction()
            +commit()
            +rollback()
        }
    }

    %% ============================================
    %% RELATIONSHIPS - Communication Pathways
    %% ============================================
    
    %% Presentation Layer uses Facade
    API --> HBnBFacade : "uses (all requests go through facade)"
    Services --> HBnBFacade : "calls facade methods"
    
    %% Facade coordinates Business Logic Layer
    HBnBFacade --> User : "manages"
    HBnBFacade --> Place : "manages"
    HBnBFacade --> Review : "manages"
    HBnBFacade --> Amenity : "manages"
    HBnBFacade --> BusinessRules : "enforces"
    
    %% Facade coordinates Persistence Layer
    HBnBFacade --> UserRepository : "delegates persistence"
    HBnBFacade --> PlaceRepository : "delegates persistence"
    HBnBFacade --> ReviewRepository : "delegates persistence"
    HBnBFacade --> AmenityRepository : "delegates persistence"
    
    %% Business Logic Layer relationships
    User "1" -- "*" Place : "owns"
    User "1" -- "*" Review : "writes"
    Place "1" -- "*" Review : "has"
    Place "*" -- "*" Amenity : "has"
    
    %% Persistence Layer relationships
    UserRepository --> DatabaseManager : "uses"
    PlaceRepository --> DatabaseManager : "uses"
    ReviewRepository --> DatabaseManager : "uses"
    AmenityRepository --> DatabaseManager : "uses"
```
